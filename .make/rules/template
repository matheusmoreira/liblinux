# Common rule template that all generated rules follow.
# All rules ensure that their target's directory exist.
#
# Arguments:
#   $(1) = path to target file
#   $(2) = command that generates $(1)
#   $(3) = optional dependencies list
#   $(4) = directories to create
#
# Returns:
#   generated rule text for the given parameters
#
define rule_template
$(1) : $(3)
	$(call mkdir_p,$(4))
	$(2)
endef
