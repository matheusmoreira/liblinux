# Command to use to create directories.
# Should not fail if the directory already exists, and create its parent directories as needed.
mkdir_p := mkdir -p

# Generates a command that makes sure the given directory exists.
# Creates all directories that don't exist. Does nothing if they do.
#
# $(1) = path to directory to create
#
ensure_directory_exists = $(mkdir_p) $(1)

# Ensures the existence of the directory where the target of a rule is located in.
# This function references an automatic variable so it should only be used inside recipes.
ensure_target_directory_exists = $(call ensure_directory_exists,$(@D))
